@{
    var course = (RoboticCoders.Models.Course)ViewBag.Course;
    var students = (IEnumerable<RoboticCoders.Models.ApplicationUser>)ViewBag.Students;
    var enrolled = (List<string>)ViewBag.Enrolled;
}

<h2>Asignar Estudiantes - @course.Title</h2>

<form method="post">
    <input type="hidden" name="courseId" value="@course.Id" />

    <div class="mb-3">
        <label>Estudiantes</label>
        <div>
            @foreach (var s in students)
            {
                var isChecked = enrolled.Contains(s.Id);
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" name="selectedStudentIds" value="@s.Id" @(isChecked ? "checked" : "") />
                    <label class="form-check-label">@s.Email</label>
                </div>
            }
        </div>
    </div>

    <button class="btn btn-primary">Guardar</button>
    <a class="btn btn-secondary ms-2" href="/Admin">Cancelar</a>
</form>
